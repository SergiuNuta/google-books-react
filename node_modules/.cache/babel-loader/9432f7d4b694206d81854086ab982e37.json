{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\serghei.nuta\\\\development\\\\google-books-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\Users\\\\serghei.nuta\\\\development\\\\google-books-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\serghei.nuta\\\\development\\\\google-books-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _createSuper from\"C:\\\\Users\\\\serghei.nuta\\\\development\\\\google-books-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _inherits from\"C:\\\\Users\\\\serghei.nuta\\\\development\\\\google-books-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import styles from\"./Book.module.scss\";import{firebase,firestore}from\"../../firebase\";import{Card,Button,Modal}from\"react-bootstrap\";import{faBookmark}from\"@fortawesome/free-solid-svg-icons\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import Header from\"../Header/Header\";var Book=/*#__PURE__*/function(_Component){_inherits(Book,_Component);var _super=_createSuper(Book);function Book(){var _this;_classCallCheck(this,Book);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={show:false};_this.handleModal=function(){_this.setState({show:!_this.state.show});};_this.handleSave=function(event){event.preventDefault();firestore.collection(\"google-books\").add(_objectSpread({},_this.props.bookData,{addedBy:_this.props.user.uid})).then(function(){console.log(\"It worked!\");alert(\"Saved to your cabinet!\");});};return _this;}_createClass(Book,[{key:\"render\",// handleRemove = (event) => {\n//     event.preventDefault();\n//     firestore\n//     .collection(\"google-books\")\n//     .doc(this.props.user.uid)\n//     .delete()\n//     .then(() => {\n//         console.log(\"Deleted!\");\n//         alert(\"Deleted from your cabinet!\");\n//     })\n// }\nvalue:function render(){var bookData=this.props.bookData.volumeInfo;console.log(bookData);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:styles.bookContainer,key:this.props.bookData.id},/*#__PURE__*/React.createElement(\"img\",{src:bookData.imageLinks!=null?bookData.imageLinks.thumbnail:\"http://tiny.cc/vuzxlz\",alt:\"not working\",className:styles.coverImage}),/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faBookmark,onClick:this.handleSave,className:styles.icon}),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{variant:\"dark\",size:\"sm\",onClick:this.handleModal,style:{width:'100px',margin:'auto'}},\"More info\")),/*#__PURE__*/React.createElement(Modal,{show:this.state.show,onHide:this.handleModal},/*#__PURE__*/React.createElement(Modal.Header,{closeButton:true},/*#__PURE__*/React.createElement(\"div\",{className:styles.firstPartModal},/*#__PURE__*/React.createElement(\"img\",{src:bookData.imageLinks!=null?bookData.imageLinks.thumbnail:\"http://tiny.cc/vuzxlz\",alt:\"not working\",className:styles.coverImage}),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:styles.title},\"title: \",this.title),/*#__PURE__*/React.createElement(\"p\",null,\"author: \",bookData.authors),/*#__PURE__*/React.createElement(\"p\",null,\"publisher: \",this.props.bookData.publisher),/*#__PURE__*/React.createElement(\"p\",null,\"total pages: \",this.props.bookData.pageCount)))),/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(\"div\",{className:styles.description},bookData.description),/*#__PURE__*/React.createElement(\"p\",null,\"Modal body text goes here.\")))));}},{key:\"title\",get:function get(){var bookData=this.props.bookData.volumeInfo;var title=bookData.title;return title.length>40?title.substring(0,40)+\"...\":title;}}]);return Book;}(Component);export{Book as default};","map":{"version":3,"sources":["C:/Users/serghei.nuta/development/google-books-react/src/Component/Book/Book.jsx"],"names":["React","Component","styles","firebase","firestore","Card","Button","Modal","faBookmark","FontAwesomeIcon","Header","Book","state","show","handleModal","setState","handleSave","event","preventDefault","collection","add","props","bookData","addedBy","user","uid","then","console","log","alert","volumeInfo","bookContainer","id","imageLinks","thumbnail","coverImage","icon","width","margin","firstPartModal","title","authors","publisher","pageCount","description","length","substring"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport styles from \"./Book.module.scss\";\r\nimport { firebase, firestore } from \"../../firebase\";\r\nimport { Card, Button, Modal } from \"react-bootstrap\";\r\nimport { faBookmark } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport Header from \"../Header/Header\";\r\n\r\n\r\n\r\n\r\nexport default class Book extends Component {\r\n    state = {\r\n        show: false\r\n    }\r\n\r\n    handleModal = () => {\r\n        this.setState({ show: !this.state.show });\r\n    }\r\n\r\n    get title() {\r\n        const bookData = this.props.bookData.volumeInfo;\r\n        const title = bookData.title;\r\n        return title.length > 40\r\n            ? title.substring(0, 40) + \"...\"\r\n            : title;\r\n    }\r\n\r\n    handleSave = (event) => {\r\n        event.preventDefault();\r\n        firestore\r\n            .collection(\"google-books\")\r\n            .add({\r\n                ...this.props.bookData,\r\n                addedBy: this.props.user.uid\r\n            })\r\n            .then(() => {\r\n                console.log(\"It worked!\")\r\n                alert(\"Saved to your cabinet!\")\r\n            })\r\n    }\r\n\r\n    // handleRemove = (event) => {\r\n    //     event.preventDefault();\r\n    //     firestore\r\n    //     .collection(\"google-books\")\r\n    //     .doc(this.props.user.uid)\r\n    //     .delete()\r\n    //     .then(() => {\r\n    //         console.log(\"Deleted!\");\r\n    //         alert(\"Deleted from your cabinet!\");\r\n    //     })\r\n    // }\r\n\r\n    render() {\r\n        const bookData = this.props.bookData.volumeInfo;\r\n        console.log(bookData);\r\n        return (\r\n            <>\r\n\r\n                <div className={styles.bookContainer} key={this.props.bookData.id} >\r\n                    <img\r\n                        src={(bookData.imageLinks != null) ? bookData.imageLinks.thumbnail : \"http://tiny.cc/vuzxlz\"}\r\n                        alt=\"not working\"\r\n                        className={styles.coverImage} />\r\n                    <FontAwesomeIcon icon={faBookmark} onClick={this.handleSave} className={styles.icon} />\r\n                    <div>\r\n                        <Button variant=\"dark\" size=\"sm\" onClick={this.handleModal} style={{ width: '100px', margin: 'auto' }}>\r\n                            More info\r\n                    </Button>\r\n                    </div>\r\n                    <Modal show={this.state.show} onHide={this.handleModal}>\r\n                        <Modal.Header closeButton>\r\n                            <div className={styles.firstPartModal}>\r\n                                <img\r\n                                    src={(bookData.imageLinks != null) ? bookData.imageLinks.thumbnail : \"http://tiny.cc/vuzxlz\"}\r\n                                    alt=\"not working\"\r\n                                    className={styles.coverImage} />\r\n                                <div>\r\n                                    <p className={styles.title}>title: {this.title}</p>\r\n                                    <p>author: {bookData.authors}</p>\r\n                                    <p>publisher: {this.props.bookData.publisher}</p>\r\n                                    <p>total pages: {this.props.bookData.pageCount}</p>\r\n                                </div>\r\n                            </div>\r\n                        </Modal.Header>\r\n                        <Modal.Body>\r\n                        <div className={styles.description}>\r\n                            {bookData.description}\r\n                        </div>\r\n                            <p>Modal body text goes here.</p>\r\n                        </Modal.Body>\r\n                        \r\n\r\n                    </Modal>\r\n                </div>\r\n\r\n\r\n            </>\r\n\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}