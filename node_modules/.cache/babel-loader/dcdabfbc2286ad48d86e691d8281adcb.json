{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\serghei.nuta\\\\development\\\\google-books-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\serghei.nuta\\\\development\\\\google-books-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _createSuper from\"C:\\\\Users\\\\serghei.nuta\\\\development\\\\google-books-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _inherits from\"C:\\\\Users\\\\serghei.nuta\\\\development\\\\google-books-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{Router,Redirect,globalHistory}from\"@reach/router\";import Booklist from\"../Component/Booklist/Booklist\";import Login from\"../Component/Login/Login\";import MyCab from\"../Component/MyCab/MyCab\";import PrivateRoutes from\"./PrivateRoutes.jsx\";import firebase,{providers,firestore}from\"../firebase\";// import CreateCard from \"../components/CreateCard/CreateCard\";\nvar NotFound=function NotFound(){return/*#__PURE__*/React.createElement(\"h2\",null,\"Not Found\");};var Routes=/*#__PURE__*/function(_Component){_inherits(Routes,_Component);var _super=_createSuper(Routes);function Routes(){var _this;_classCallCheck(this,Routes);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={user:null};_this.signIn=function(){firebase.auth().signInWithPopup(providers.google).then(function(result){_this.setState({user:result.user});console.log(_this.state.user);}).catch(function(error){console.log(error);});};_this.signOut=function(){firebase.auth().signOut().then(function(){_this.setState({user:null});globalHistory.navigate(\"/login\");});};return _this;}_createClass(Routes,[{key:\"render\",value:function render(){// this.signIn();\nreturn/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(Redirect,{noThrow:true,from:\"/\",to:\"google-books-react\"}),/*#__PURE__*/React.createElement(Booklist,{path:\"google-books-react\",bookData:this.props.bookData,user:this.state.user}),/*#__PURE__*/React.createElement(Login,{path:\"login\",signIn:this.signIn}),/*#__PURE__*/React.createElement(PrivateRoutes,{path:\"private\",user:this.state.user},/*#__PURE__*/React.createElement(MyCab,{path:\"mycabinet\",user:this.state.user,signOut:this.signOut})),/*#__PURE__*/React.createElement(NotFound,{default:true}));}}]);return Routes;}(Component);export{Routes as default};","map":{"version":3,"sources":["C:/Users/serghei.nuta/development/google-books-react/src/routes/Routes.jsx"],"names":["React","Component","Router","Redirect","globalHistory","Booklist","Login","MyCab","PrivateRoutes","firebase","providers","firestore","NotFound","Routes","state","user","signIn","auth","signInWithPopup","google","then","result","setState","console","log","catch","error","signOut","navigate","props","bookData"],"mappings":"gsBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,MAAT,CAAiBC,QAAjB,CAA2BC,aAA3B,KAAgD,eAAhD,CACA,MAAOC,CAAAA,QAAP,KAAqB,gCAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,0BAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,0BAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,qBAA1B,CACA,MAAOC,CAAAA,QAAP,EAAmBC,SAAnB,CAA8BC,SAA9B,KAA+C,aAA/C,CACA;AAGA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,sBAAO,0CAAP,EAAjB,C,GAEqBC,CAAAA,M,2TACjBC,K,CAAQ,CACJC,IAAI,CAAE,IADF,C,OAIRC,M,CAAS,UAAM,CACXP,QAAQ,CACHQ,IADL,GAEKC,eAFL,CAEqBR,SAAS,CAACS,MAF/B,EAGKC,IAHL,CAGU,SAAAC,MAAM,CAAI,CACZ,MAAKC,QAAL,CAAc,CAACP,IAAI,CAAEM,MAAM,CAACN,IAAd,CAAd,EACAQ,OAAO,CAACC,GAAR,CAAY,MAAKV,KAAL,CAAWC,IAAvB,EACH,CANL,EAOKU,KAPL,CAOW,SAAAC,KAAK,CAAI,CACZH,OAAO,CAACC,GAAR,CAAYE,KAAZ,EACH,CATL,EAUH,C,OAEDC,O,CAAU,UAAM,CACZlB,QAAQ,CACHQ,IADL,GAEKU,OAFL,GAGKP,IAHL,CAGU,UAAM,CACR,MAAKE,QAAL,CAAc,CAACP,IAAI,CAAE,IAAP,CAAd,EACAX,aAAa,CAACwB,QAAd,CAAuB,QAAvB,EACH,CANL,EAOH,C,yEAEQ,CACL;AACA,mBACI,oBAAC,MAAD,mBACI,oBAAC,QAAD,EAAU,OAAO,KAAjB,CAAkB,IAAI,CAAC,GAAvB,CAA2B,EAAE,CAAC,oBAA9B,EADJ,cAEI,oBAAC,QAAD,EAAU,IAAI,CAAC,oBAAf,CAAoC,QAAQ,CAAE,KAAKC,KAAL,CAAWC,QAAzD,CAAmE,IAAI,CAAE,KAAKhB,KAAL,CAAWC,IAApF,EAFJ,cAGI,oBAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,CAAoB,MAAM,CAAE,KAAKC,MAAjC,EAHJ,cAII,oBAAC,aAAD,EAAe,IAAI,CAAC,SAApB,CAA8B,IAAI,CAAE,KAAKF,KAAL,CAAWC,IAA/C,eACI,oBAAC,KAAD,EAAO,IAAI,CAAC,WAAZ,CAAwB,IAAI,CAAE,KAAKD,KAAL,CAAWC,IAAzC,CAAgD,OAAO,CAAE,KAAKY,OAA9D,EADJ,CAJJ,cAOI,oBAAC,QAAD,EAAU,OAAO,KAAjB,EAPJ,CADJ,CAWH,C,oBAzC+B1B,S,SAAfY,M","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Router, Redirect, globalHistory } from \"@reach/router\";\r\nimport Booklist from \"../Component/Booklist/Booklist\";\r\nimport Login from \"../Component/Login/Login\";\r\nimport MyCab from \"../Component/MyCab/MyCab\";\r\nimport PrivateRoutes from \"./PrivateRoutes.jsx\";\r\nimport firebase, { providers, firestore } from \"../firebase\";\r\n// import CreateCard from \"../components/CreateCard/CreateCard\";\r\n\r\n\r\nconst NotFound = () => (<h2>Not Found</h2>);\r\n\r\nexport default class Routes extends Component {\r\n    state = {\r\n        user: null\r\n    }\r\n\r\n    signIn = () => {\r\n        firebase\r\n            .auth()\r\n            .signInWithPopup(providers.google)\r\n            .then(result => {\r\n                this.setState({user: result.user});\r\n                console.log(this.state.user)\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            })\r\n    }\r\n\r\n    signOut = () => {\r\n        firebase\r\n            .auth()\r\n            .signOut()\r\n            .then(() => {\r\n                this.setState({user: null});\r\n                globalHistory.navigate(\"/login\");\r\n            })\r\n    }\r\n\r\n    render() {\r\n        // this.signIn();\r\n        return (\r\n            <Router>\r\n                <Redirect noThrow from=\"/\" to=\"google-books-react\" />\r\n                <Booklist path=\"google-books-react\" bookData={this.props.bookData} user={this.state.user}/>\r\n                <Login path=\"login\" signIn={this.signIn} />\r\n                <PrivateRoutes path=\"private\" user={this.state.user}> \r\n                    <MyCab path=\"mycabinet\" user={this.state.user}  signOut={this.signOut} />\r\n                </PrivateRoutes> \r\n                <NotFound default />\r\n            </Router>\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}