{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\serghei.nuta\\\\development\\\\google-books-react\\\\src\\\\Component\\\\Book\\\\Book.jsx\";\nimport React, { Component } from \"react\";\nimport styles from \"./Book.module.scss\";\nimport { firebase, firestore } from \"../../firebase\";\nimport { Card, Button, Modal } from \"react-bootstrap\";\nimport { faBookmark } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport Header from \"../Header/Header\";\nexport default class Book extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      show: false\n    };\n\n    this.handleModal = () => {\n      this.setState({\n        show: !this.state.show\n      });\n    };\n\n    this.handleSave = event => {\n      event.preventDefault();\n\n      if (this.props.user) {\n        firestore.collection(\"google-books\").add({ ...this.props.bookData,\n          addedBy: this.props.user.uid\n        }).then(() => {\n          console.log(\"It worked!\");\n          alert(\"Saved to your cabinet!\");\n        });\n      } else {\n        alert(\"Login first!\");\n      }\n    };\n\n    this.handleRemove = event => {\n      event.preventDefault();\n      firestore.collection(\"google-books\").doc('doc.id').delete().then(() => {\n        console.log(\"Deleted!\");\n        alert(\"Deleted from your cabinet!\");\n      });\n    };\n  }\n\n  get title() {\n    const bookData = this.props.bookData.volumeInfo;\n    const title = bookData.title;\n    return title.length > 40 ? title.substring(0, 40) + \"...\" : title;\n  }\n\n  render() {\n    const bookData = this.props.bookData.volumeInfo; // console.log(bookData);\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.bookContainer,\n      key: this.props.bookData.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: bookData.imageLinks != null ? bookData.imageLinks.thumbnail : \"http://tiny.cc/vuzxlz\",\n      alt: \"not working\",\n      className: styles.coverImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faBookmark,\n      onClick: this.handleSave,\n      className: styles.icon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"dark\",\n      size: \"sm\",\n      onClick: this.handleModal,\n      style: {\n        width: '100px',\n        margin: 'auto'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 25\n      }\n    }, \"More info\")), /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.show,\n      onHide: this.handleModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.firstPartModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: bookData.imageLinks != null ? bookData.imageLinks.thumbnail : \"http://tiny.cc/vuzxlz\",\n      alt: \"not working\",\n      className: styles.coverImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 40\n      }\n    }, \"title:\"), \" \", this.title != null ? this.title : \"No title to display\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 40\n      }\n    }, \"author:\"), \" \", bookData.authors != null ? bookData.authors : \"No authors to display\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 40\n      }\n    }, \"publisher:\"), \" \", bookData.publisher != null ? bookData.publisher : \"No publisher to display\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 40\n      }\n    }, \"total pages:\"), \" \", bookData.pageCount != null ? bookData.pageCount : \"No number of pages to display\")))), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.description,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 29\n      }\n    }, bookData.description != null ? bookData.description : \"No description to display\")), /*#__PURE__*/React.createElement(Modal.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: bookData.previewLink,\n      class: \"btn btn-primary\",\n      role: \"button\",\n      target: \"blank\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 29\n      }\n    }, \"preview\")))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/serghei.nuta/development/google-books-react/src/Component/Book/Book.jsx"],"names":["React","Component","styles","firebase","firestore","Card","Button","Modal","faBookmark","FontAwesomeIcon","Header","Book","state","show","handleModal","setState","handleSave","event","preventDefault","props","user","collection","add","bookData","addedBy","uid","then","console","log","alert","handleRemove","doc","delete","title","volumeInfo","length","substring","render","bookContainer","id","imageLinks","thumbnail","coverImage","icon","width","margin","firstPartModal","authors","publisher","pageCount","description","previewLink"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport styles from \"./Book.module.scss\";\r\nimport { firebase, firestore } from \"../../firebase\";\r\nimport { Card, Button, Modal } from \"react-bootstrap\";\r\nimport { faBookmark } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport Header from \"../Header/Header\";\r\n\r\n\r\n\r\n\r\nexport default class Book extends Component {\r\n    state = {\r\n        show: false\r\n    }\r\n\r\n    handleModal = () => {\r\n        this.setState({ show: !this.state.show });\r\n    }\r\n\r\n    get title() {\r\n        const bookData = this.props.bookData.volumeInfo;\r\n        const title = bookData.title;\r\n        return title.length > 40\r\n            ? title.substring(0, 40) + \"...\"\r\n            : title;\r\n    }\r\n\r\n    handleSave = (event) => {\r\n        event.preventDefault();\r\n        if (this.props.user) {\r\n        firestore\r\n            .collection(\"google-books\")\r\n            .add({\r\n                ...this.props.bookData,\r\n                addedBy: this.props.user.uid\r\n            })\r\n            .then(() => {\r\n                console.log(\"It worked!\")\r\n                alert(\"Saved to your cabinet!\")\r\n            })\r\n        } else {\r\n            alert(\"Login first!\")\r\n        }\r\n    }\r\n\r\n    handleRemove = (event) => {\r\n        event.preventDefault();\r\n        firestore\r\n        .collection(\"google-books\")\r\n        .doc('doc.id')\r\n        .delete()\r\n        .then(() => {\r\n            console.log(\"Deleted!\");\r\n            alert(\"Deleted from your cabinet!\");\r\n        })\r\n        \r\n    }\r\n\r\n    render() {\r\n        const bookData = this.props.bookData.volumeInfo;\r\n        // console.log(bookData);\r\n        return (\r\n            <>\r\n\r\n                <div className={styles.bookContainer} key={this.props.bookData.id} >\r\n                    <img\r\n                        src={(bookData.imageLinks != null) ? bookData.imageLinks.thumbnail : \"http://tiny.cc/vuzxlz\"}\r\n                        alt=\"not working\"\r\n                        className={styles.coverImage} />\r\n                    <FontAwesomeIcon\r\n                        icon={faBookmark}\r\n                        onClick={this.handleSave}\r\n                        className={styles.icon} />\r\n                    <div>\r\n                        <Button variant=\"dark\" size=\"sm\" onClick={this.handleModal} style={{ width: '100px', margin: 'auto' }}>\r\n                            More info\r\n                    </Button>\r\n                    </div>\r\n                    <Modal show={this.state.show} onHide={this.handleModal}>\r\n                        <Modal.Header closeButton>\r\n                            <div className={styles.firstPartModal}>\r\n                                <img\r\n                                    src={(bookData.imageLinks != null) ? bookData.imageLinks.thumbnail : \"http://tiny.cc/vuzxlz\"}\r\n                                    alt=\"not working\"\r\n                                    className={styles.coverImage} />\r\n                                <div>\r\n                                    <p><span>title:</span> {this.title != null ? this.title : \"No title to display\"}</p>\r\n                                    <p><span>author:</span> {bookData.authors != null ? bookData.authors : \"No authors to display\"}</p>\r\n                                    <p><span>publisher:</span> {bookData.publisher != null ? bookData.publisher : \"No publisher to display\"}</p>\r\n                                    <p><span>total pages:</span> {bookData.pageCount != null ? bookData.pageCount : \"No number of pages to display\"}</p>\r\n                                </div>\r\n                            </div>\r\n                        </Modal.Header>\r\n                        <Modal.Body>\r\n                            <div className={styles.description}>\r\n                                {bookData.description != null ? bookData.description : \"No description to display\"}\r\n                            </div>\r\n                        </Modal.Body>\r\n                        <Modal.Footer>\r\n                            <a href={bookData.previewLink} class=\"btn btn-primary\" role=\"button\" target=\"blank\">preview</a>\r\n                        </Modal.Footer>\r\n\r\n                    </Modal>\r\n                </div>\r\n\r\n\r\n            </>\r\n\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}